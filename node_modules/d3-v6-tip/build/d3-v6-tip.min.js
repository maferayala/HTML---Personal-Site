!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("d3-selection")):"function"==typeof define&&define.amd?define(["exports","d3-selection"],e):e(t.d3=t.d3||{},t.d3)}(this,function(t,e){"use strict";t.tip=function(){const t=function(t){return"function"==typeof t?t:function(){return t}};var n=function(){return"n"},r=function(){return[0,0]},o=function(){return" "},l=y(),i=null,s=null,f=null,u=t(document.body);function c(t){var e;i="svg"===(e=(e=t).node()).tagName.toLowerCase()?e:e.ownerSVGElement,s=i.createSVGPoint(),u().appendChild(l)}c.show=function(){var t=Array.prototype.slice.call(arguments);t[0]instanceof Event&&(f=t[0].target),t[t.length-1]instanceof SVGElement&&(f=t.pop());var e,l=o.apply(this,t),i=r.apply(this,t),s=n.apply(this,t),y=d(),m=p.length,h=document.documentElement.scrollTop||u().scrollTop,x=document.documentElement.scrollLeft||u().scrollLeft;for(y.html(l).style("position","absolute").style("opacity",1).style("pointer-events","all");m--;)y.classed(p[m],!1);return e=a[s].apply(this),y.classed(s,!0).style("top",e.top+i[0]+h+"px").style("left",e.left+i[1]+x+"px"),c},c.hide=function(){return d().style("opacity",0).style("pointer-events","none"),c},c.attr=function(t,n){if(arguments.length<2&&"string"==typeof t)return d().attr(t);var r=Array.prototype.slice.call(arguments);return"class"==t?d().classed(n,!0):e.selection.prototype.attr.apply(d(),r),c},c.style=function(t,n){if(arguments.length<2&&"string"==typeof t)return d().style(t);var r=Array.prototype.slice.call(arguments);if(1===r.length){var o=r[0];Object.keys(o).forEach(function(t){return e.selection.prototype.style.apply(d(),[t,o[t]])})}return c},c.direction=function(e){return arguments.length?(n=null==e?e:t(e),c):n},c.offset=function(e){return arguments.length?(r=null==e?e:t(e),c):r},c.html=function(e){return arguments.length?(o=null==e?e:t(e),c):o},c.rootElement=function(e){return arguments.length?(u=null==e?e:t(e),c):u},c.destroy=function(){return l&&(d().remove(),l=null),c};var a={n:function(){var t=m();return{top:t.n.y-l.offsetHeight,left:t.n.x-l.offsetWidth/2}},s:function(){var t=m();return{top:t.s.y,left:t.s.x-l.offsetWidth/2}},e:function(){var t=m();return{top:t.e.y-l.offsetHeight/2,left:t.e.x}},w:function(){var t=m();return{top:t.w.y-l.offsetHeight/2,left:t.w.x-l.offsetWidth}},nw:function(){var t=m();return{top:t.nw.y-l.offsetHeight,left:t.nw.x-l.offsetWidth}},ne:function(){var t=m();return{top:t.ne.y-l.offsetHeight,left:t.ne.x}},sw:function(){var t=m();return{top:t.sw.y,left:t.sw.x-l.offsetWidth}},se:function(){var t=m();return{top:t.se.y,left:t.e.x}}},p=Object.keys(a);function y(){let t=e.select(".d3-tip-lib-node");return t.node()||(t=e.select(document.createElement("div"))),t.classed("d3-tip-lib-node",!0).style("position","absolute").style("top","0").style("opacity","0").style("pointer-events","none").style("box-sizing","border-box"),t.node()}function d(){return null===l&&(l=y(),document.body.appendChild(l)),e.select(l)}function m(){for(var t=f||d3.event.target;void 0===t.getScreenCTM&&"undefined"===t.parentNode;)t=t.parentNode;var e={},n=t.getScreenCTM(),r=t.getBBox(),o=r.width,l=r.height,i=r.x,u=r.y;return s.x=i,s.y=u,e.nw=s.matrixTransform(n),s.x+=o,e.ne=s.matrixTransform(n),s.y+=l,e.se=s.matrixTransform(n),s.x-=o,e.sw=s.matrixTransform(n),s.y-=l/2,e.w=s.matrixTransform(n),s.x+=o,e.e=s.matrixTransform(n),s.x-=o/2,s.y-=l/2,e.n=s.matrixTransform(n),s.y+=l,e.s=s.matrixTransform(n),e}return c},Object.defineProperty(t,"__esModule",{value:!0})});